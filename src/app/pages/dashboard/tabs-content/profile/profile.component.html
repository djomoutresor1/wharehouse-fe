<!-- <nz-breadcrumb>
  <nz-breadcrumb-item (click)="handleOnNavigate('dashboard')">
    <i nz-icon nzType="dashboard"></i>
    <a>Dashboard</a>
  </nz-breadcrumb-item>
  <nz-breadcrumb-item>
    <a>My Profile</a>
  </nz-breadcrumb-item>
</nz-breadcrumb> -->
<warehouse-breadcrumb [items]="breadcrumbItems"></warehouse-breadcrumb>
<div class="profile-wrapper">
  <div class="row" *ngIf="isAuth">
    <div class="col">
      <warehouse-notification [typeNotification]="alertType" [messageNotification]="messageAlert">
      </warehouse-notification>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <img alt="Warehouse Background Cover" class="profile-background-cover"
        src="../../../../../assets/images/image_placeholder.jpg" />
    </div>
  </div>
  <div class="row">
    <div class="col-md-2">
      <nz-avatar *ngIf="!profileURL" class="profile-avatar mb-3" nzIcon="user">
      </nz-avatar>
      <nz-avatar *ngIf="profileURL" class="profile-avatar mb-3" [nzSrc]="profileURL">
      </nz-avatar>
    </div>
    <div class="col-md-10">
      <div class="row mt-3 profile-user">
        <div class="col-md-3">
          <p class="profile-title" nz-typography>{{ "register.username.placeholder" | translate }}</p>
          <h3 class="profile-title" nz-typography>{{ dataUser?.username }}</h3>
        </div>
        <div class="col-md-3">
          <p class="profile-title" nz-typography>{{ "profile.personalData.userId" | translate }}</p>
          <h3 class="profile-title" nz-typography>{{ dataUser?.userId }}</h3>
        </div>
        <div class="col-md-4">
          <p class="profile-title" nz-typography>{{"profile.role" | translate}}</p>
          <h3 class="profile-title" nz-typography>
            <nz-tag *ngFor="let role of dataRoles" [nzColor]="getUserColorRole(role)">
              <i nz-icon [nzType]="getRoleIcon(role)"></i>
              {{ role}}
            </nz-tag>
          </h3>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-12">
          <span nz-typography><strong>{{"profile.lastLoginMessage" | translate}} {{ dataUser?.lastLogin
              }}</strong></span>
        </div>
      </div>
    </div>
  </div>
  <div class="row profile-content">
    <div class="col-md-12 profile-personal-data">
      <h2 class="profile-title" nz-typography>{{"profile.personalData.title" | translate}}</h2>
      <nz-divider class="warehouse-background-primary warehouse-not-padding warehouse-not-margin"></nz-divider>
      <div class="row mb-4">
        <div class="col-md-4 mt-3">
          <label class="mb-2">{{"register.gender.placeholder" | translate }}</label><br />
          <nz-switch [ngModel]="dataUser?.gender === 'Male' ? 1 : 0" [disabled]="enableEdit"
            [nzCheckedChildren]="'register.gender.male' | translate"
            [nzUnCheckedChildren]="'register.gender.female' | translate"></nz-switch>
        </div>
        <div class="col-md-4 mt-3">
          <label class="mb-2">{{"profile.personalData.fullname" | translate }}</label>
          <input nz-input [value]="dataUser?.fullname ? dataUser?.fullname : 'profile.empty' | translate"
            [disabled]="enableEdit" />
        </div>
        <div class="col-md-4 mt-3">
          <label class="mb-2">{{ "profile.personalData.userId" | translate }}</label>
          <input nz-input [value]="dataUser?.userId  ? dataUser?.userId : 'profile.empty' | translate"
            [disabled]="enableEdit" />
        </div>
      </div> 
      <div class="row mb-4">
        <div class="col-md-3 mt-3">
          <label class="mb-2">{{"profile.personalData.dateOfBorn" | translate }}</label>
          <input nz-input
            [value]="dataUser?.dateOfBirth ? dataUser?.dateOfBirth : 'profile.empty' | translate"
            [disabled]="enableEdit" />
        </div>
        <div class="col-md-3 mt-3">
          <label class="mb-2">{{"profile.personalData.dateOfBorn" | translate }}</label>
          <input nz-input
            [value]="dataUser?.dateOfBirth ? dataUser?.dateOfBirth : 'profile.empty' | translate"
            [disabled]="enableEdit" />
        </div>
        <div class="col-md-3 mt-3">
          <label class="mb-2">{{"profile.personalData.country" | translate }}</label>
          <input nz-input [value]="dataUser?.country ? dataUser?.country : 'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
        <div class="col-md-3 mt-3">
          <label class="mb-2">{{"profile.personalData.city" | translate }}</label>
          <input nz-input [value]="dataUser?.state ? dataUser?.state : 'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
      </div>
      <div class="row mb-4">
        <div class="col-md-2 mt-3">
          <label class="mb-2">{{"profile.personalData.zip" | translate }}</label>
          <input nz-input [value]="dataUser?.zipCode ? dataUser?.zipCode :'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
        <div class="col-md-8 mt-3">
          <label class="mb-2">{{"profile.personalData.address" | translate }}</label>
          <input nz-input [value]="dataUser?.address ? dataUser?.address :'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
      </div>
    </div>
    <div class="col-md-12 profile-personal-contact">
      <h2 class="profile-title" nz-typography>{{"profile.personalContact.title" | translate}}</h2>
      <nz-divider class="warehouse-background-primary warehouse-not-padding warehouse-not-margin"></nz-divider>
      <div class="row mb-4">
        <div class="col-md-6 mt-3">
          <label class="mb-2">{{"profile.personalContact.personalEmail" | translate }} (<span class="profile-verified"
              [ngClass]="dataUser?.active ? 'warehouse-success' : 'warehouse-tomato'">{{(dataUser?.active ?
              "profile.verified" : "profile.notVerified") | translate}}</span>)</label>
          <input nz-input [value]="dataUser?.email ? dataUser?.email : 'profile.empty' | translate"
            [disabled]="enableEdit" />
        </div>
        <div class="col-md-6 mt-3">
          <label class="mb-2">{{"profile.personalContact.otherPersonalEmail" | translate }}</label>
          <input nz-input [value]="dataUser?.emailPec ? dataUser?.emailPec :'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
      </div>
      <div class="row mb-4">
        <div class="col-md-6 mt-3">
          <label class="mb-2">{{"profile.personalContact.mobilePhone" | translate }}</label>
          <input nz-input [value]="dataUser?.phoneNumber ? getMobilePhoneUser(dataUser?.phonePrefix, dataUser?.phoneNumber ): 'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
        <div class="col-md-6 mt-3">
          <label class="mb-2">{{"profile.personalContact.landlinePhone" | translate }}</label>
          <input nz-input [value]="dataUser?.landlineNumber ? dataUser?.landlineNumber :'profile.empty' | translate" [disabled]="enableEdit" />
        </div>
      </div>
    </div>
  </div>
  <nz-divider class="warehouse-background-sliver"></nz-divider>
  <div class="row mb-4">
    <div class="col-md-12 mt-3">
      <button nz-button (click)="handleOnBack()" class="profile-back" nzType="primary" nzDanger>
        <i nz-icon nzType="left" nzTheme="outline"></i>{{'dashboard.cta.back' | translate}}</button>
      <button *ngIf="enableEdit" nz-button (click)="handleOnEdit()" class="profile-edit" [nzType]="'primary'">
        <i nz-icon nzType="edit" nzTheme="outline"></i>{{'dashboard.cta.edit' | translate}}</button>
      <button *ngIf="!enableEdit" nz-button (click)="handleOnSave()" class="profile-edit" [nzType]="'primary'">
          {{'button.save' | translate}}</button>
      <button nz-button (click)="handleOnChangePassword()" class="profile-change-password" [nzType]="'default'">
          <i nz-icon nzType="lock" nzTheme="outline"></i>{{'changePassword.cta' | translate}}</button>
    </div>
  </div>
  <div class="row" *ngIf="isExpiredToken">
    <div class="col">
      <warehouse-modal [okTextModal]="okText" [typeModal]="alertType" [messageModal]="messageAlert" [descriptionModal]="descriptionAlert"
        (handleOnOkModal)="handleOnOkModal($event)"></warehouse-modal>
    </div>
  </div>